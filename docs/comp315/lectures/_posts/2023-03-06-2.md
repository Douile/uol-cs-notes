---
title: Cryptography (Not Encryption)
tags: COMP315 Lectures
---
## Key Exchange
We can use public key encryption to share a secret, such as a symmetric key.

We can also use a pre-agreed key if we have a previous secure connection.
{:.info}

### Diffie-Hellman (DH) Key Exchange
This is based on the assumption that logarithm modulo $n$ is not feasible to compute (like RSA).

The protocol to share a secret between Alice and Bob:

1. Alice and Bob publicly agree no a large prime number $p$ and a number $x$ such that $\text{ord}(x)=p-1)$ in $(\mathbb Z/p\mathbb Z)^*$.
1. Alice privately generates a secret number $a$ and computes $x^a\mod p$.
1. Bob privately generates a secret number $b$ and computes $x^b\mod p$.
1. Alice publicly sends $x^a$ to Bob and Bob publicly sends $x^b$ to Alice.
1. Alice computes $s=(x^b)^a\mod p$.
1. Bob computes $s=(x^a)^b\mod p$.

$s$ is now known to Alice and bob because $(x^a)^b=(x^b)^a$.

## Hashing
Hashing is a non-reversable function to make a key from a binary blob. Usual conditions on a hashing function $h:X\rightarrow Y$:

Efficiency
: Given $x$, it is feasible to compute $h(x)$.

Secrecy
: Given $y=h(x)$, it is not feasible to compute any $z$ such $h(z)=y$.

Collision
: It is not feasible to find any $x_1\neq x_2$ such that $h(x_1)=h(x_2)$.

We don't require correctness as we don't want to recover $x$.
{:.info}

Non-cryptographic hashes don't require secrecy or collision.
{:.info}

### Hashing Size
For a hash function, there is no requirement that the output is at least as long as the input:

* This way a very large $x$ can be turned into a pretty short hash.

### Hashing Uses
Hashing is mainly used for:

* Message integrity checks.
* Password hashing.

#### Password Hashing
To store passwords for comparison purposes, it is most secure to:

1. Generate a salt that is unique per user and service (not necessarily secret).
1. When a user sets their password compute $y=h(\text{pwd}+\text{salt})$ and store only $y$ and $\text{salt}$.
1. When a user wants to login compute $y'=h(x+\text{salt})$. If $y=y'$ then the password is correct.

Salting requires that passwords can only be attacked one at a time. You can't find what a password is from other leaked tables or by matching to other users.
{:.info}